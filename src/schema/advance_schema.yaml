id: https://w3id.org/GHGA-Advance-Metadata-Schema
name: GHGA-Advance-Metadata-Schema
description: >-
  The advance metadata schema for the German Human Genome-Phenome Archive (GHGA).
version: 0.9.0
imports:
  - linkml:types
  - submission_centric_schema

prefixes:
  linkml: https://w3id.org/linkml/
  GHGA: https://w3id.org/GHGA/
  SIO: http://semanticscience.org/resource/SIO_
  biolink: https://w3id.org/biolink/vocab/
  EFO: http://www.ebi.ac.uk/efo/EFO_
  COB: http://purl.obolibrary.org/obo/COB_
  HANCESTRO: http://purl.obolibrary.org/obo/HANCESTRO_


classes:
  agent:
    is_a: named thing
    description: >-
      An agent is something that bears some form of responsibility for an activity taking place,
      for the existence of an entity, or for another agent's activity. Agents include a Person,
      Organization, or Software that performs an activity.
    slots:
      - name
      - description
    slot_usage:
      name:
        required: true
      description:
        required: true
    exact_mappings:
      - prov:Agent
  technology:
    is_a: information content entity
    deprecated: true
    description: >-
      A Technology is an abstraction that represents the instrument used for an assay. The Technology
      entity captures instrument-specific attributes that are relevant for an Experiment entity.
      The Technology entity may be further characterized by its children where each child has fields
      that are relevant to that particular technology.
  experiment process:
    is_a: experiment
    mixins:
      - attribute mixin
    description: >-
      An Experiment Process is a process that describes how a Sample is transformed
      to a File via an assay. The Experiment Process also keeps track of the Protocol
      used and the Agent that is running the experiment.
    slots:
      - type
      - title
      - has input
      - has agent
      - has output
    slot_usage:
      type:
        description: >-
          The type of experiment process.
        range: experiment process type enum
        required: true
      title:
        description: >-
          A descriptive title that explains the step(s) involved in performing the experiment
          leading up to the sequencing of the sample and generation of raw data from the instrument.
          (eg: Sample extraction -> Target Enrichment)
      has input:
        description: >-
          The input to the Experiment Process. Usually a Sample entity.
        range: sample
        required: true
        inlined: true
        inlined_as_list: false
      has agent:
        description: >-
          The Agent - a software, institution, or human - that is executing or
          responsible for executing the Experiment Process.
        required: true
        inlined: true
        inlined_as_list: false
      has output:
        description: >-
          The output of this Experiment Process. Usually a File entity.
        range: file
        required: true
        multivalued: true
        inlined: true
        inlined_as_list: false
  workflow:
    is_a: information content entity
    description: >-
      A Workflow is an abstraction that represents the workflow used to perform an analysis. The Workflow
      entity captures workflow-specific attributes that are relevant for an Analysis entity.
      The Workflow entity may be further characterized by its children where each child has fields
      that are relevant to that particular workflow.
    slots:
      - name
      - has workflow step
    slot_usage:
      alias:
        required: true
      name:
        required: true
      has workflow step:
        range: workflow step
        required: true
        multivalued: true
        inlined: true
        inlined_as_list: true
  workflow step:
    is_a: information content entity
    description: >-
      A Workflow Step represents each individual step performed in a Workflow.
      If the Workflow is a single-step workflow then the Workflow has just one Workflow Step entity.
      If the Workflow is a multi-step workflow then the Workflow has a Workflow Step entity for each step.
      All Workflow step specific attributes like parameters, and metadata about execution environment
      are captured by the Workflow Step entity.
    slots:
      - has workflow parameter
    slot_usage:
      has workflow parameter:
        description: >-
          One or more parameters that are associated with this Workflow Step.
        range: workflow parameter
        required: false
        multivalued: true
        inlined: true
        inlined_as_list: true
  workflow parameter:
    description: >-
      A key/value pair that represents a parameter used in a Workflow Step.
    slots:
      - key
      - value
    slot_usage:
      key:
        description: >-
          Key that represents the parameter name.
        required: true
      value:
        description: >-
          Value corresponding to the the parameter key.
        required: true
  donor:
    is_a: individual
    aliases: ["participant"]
    description: >-
      A Donor is an Individual that participates in a research Study by donating
      a Biospecimen. The use of the Biospecimen is restricted to the consent provided
      by the Donor.
  family:
    is_a: population
    mixins:
      - accession mixin
    description: >-
      A domestic group, or a number of domestic groups linked through descent (demonstrated or stipulated)
      from a common ancestor, marriage, or adoption.
    slots:
      - has individual
      - has proband
    slot_usage:
      has individual:
        description: >-
          One or more Individuals that collectively define this Family.
        required: true
        multivalued: true
        inlined: true
        inlined_as_list: true
      has proband:
        description: >-
          The Individual that is reported to have a disorder which results in the
          Family being brought into a Study.
        required: true
        inlined: true
        inlined_as_list: false
  cohort:
    is_a: population
    mixins:
      - accession mixin
    description: >-
      A cohort is a collection of individuals that share a common characteristic/observation
      and have been grouped together for a research study/investigation.
    slots:
      - has individual
    slot_usage:
      has individual:
        description: >-
          One or more Individuals that collectively define this Cohort.
        required: true
        multivalued: true
        inlined: true
        inlined_as_list: true
  member:
    is_a: person
    description: >-
      Member of an Organization or a Committee.
    slots:
      - email
      - telephone
      - organization
    slot_usage:
      email:
        description: >-
          The email of the Member.
        required: true
      telephone:
        description: >-
          The telephone number of the Member.
        required: false
      organization:
        description: >-
          The organization that the Member is part of.
        required: true
  cell line:
    is_a: material entity
    description: >-
      A cultured cell population that represents a genetically stable and homogenous population
      of cultured cells that shares a common propagation history.
    exact_mappings:
      - CLO:0000031
      - SIO:010054
  user:
    is_a: person
    description: >-
      A user in GHGA.
    slots:
      - email
      - role
    slot_usage:
      email:
        required: false
      role:
        description: >-
          The role of the user
        range: user role enum
        required: false
  analysis process:
    is_a: analysis
    description: >-
      An analysis process is a process that describes how one or more Files, from a Study,
      are transformed to another set of Files via a Workflow. The analysis process also keeps
      track of the workflow metadata and the Agent that is running the Analysis.
    slots:
      - title
      - has agent
    slot_usage:
      title:
        required: true
      has agent:
        description: >-
          The Agent - a software, institution, or human - that is executing or
          responsible for executing the workflow.
        range: agent
        inlined: true
        inlined_as_list: false

slots:
  telephone:
    description: >-
      The telephone number associated with a person.
  organization:
    description: The organization associated with a person.
  email:
    description: >-
      Email of a person.
  role:
    description: The role that a user has within GHGA.
    range: user role enum
  has technology:
    deprecated: true
    range: technology
  has experiment process:
    range: experiment process
    in_subset:
      - restricted
  has analysis process:
    range: analysis process
  has workflow:
    description: The Workflow entity associated wtih a Planned Process entity.
    range: workflow
  has workflow step:
    description: The individual workflow step that with other workflow step(s) collectively defines a Workflow entity.
    range: workflow step
  has workflow parameter:
    description: The parameter(s) associated with a Workflow Step entity.
    range: workflow parameter
  has agent:
    description: A person or an entity that is performing a Planned Process entity.
    range: agent
    in_subset:
      - restricted
  has member:
    description: The members associated with a committee.
    range: member
  has proband:
    description: The Individual that is reported to have a disorder in a Family.
    range: individual

enums:
  experiment process type enum:
    description: >-
      The different types of Experiment Processes.
    permissible_values:
      sample_preparation:
        description: >-
          An Experiment Process that represents the transformation of a Sample
          in preparation for an assay.
          When an Experiment Process is of type 'sample preparation', both the input and
          output to the Experiment Process is a Sample.
      assay:
        description: >-
          An Experiment Process that represents an assay which performs measurement on
          a Sample to generate data.
          When an Experiemnt Process is of type 'assay', the input is a Sample and the
          output is a File.
  user role enum:
    description: >-
      Enum to capture the different roles a GHGA User can have.
    permissible_values:
      data_requester:
        description: >-
          Role of a Data Requester where the user requests access
          to one or more Datasets.
      data_steward:
        description: >-
          Role of a Data Steward where the user is responsible for
          approving request from a user for one or more Datasets.
